{% extends "layout.html.twig" %}

{% block css %}
<link rel="stylesheet" href="/css/select2.min.css" />
<link rel="stylesheet" href="/css/font-awesome-animation.min.css" />
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
    <div class="box">
      <div class="box-body">
        <div class="class=col-xs-12">
            <select id="version_select" class="select2" name="version">
                  <option selected="selected" value="AL">Capone</option>
                  <option value="Chuck">Norris</option>
            </select>
        </div>
        <div class="class=col-xs-12">
          <div id="graph_display"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-cs-12 col-sm-3 col-md-3 col-lg-3">
    <div id="#nodeInfo" class="box box-success box-solid">
      <div class="box-header">
        <h3 data-node="false">Information</h3>
        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
        </div>
      </div>
      <div class="box-body">
        <div id="no_selected" class="row" style="text-align:center">
            <p><i class="fa fa-hand-o-left faa-horizontal animated fa-3x"></i></p>
            <p><span class="text-lead">Select a node or a link in order to display infomration about it</span></p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block javascripts %}

<script src="/js/select2.min.js"></script>
<script src="/js/d3.min.js"></script>
<script>
  $(document).ready(function(){
    $("#version_select").select2();

  });

  /**
  * Loads the graph data via ajax
  */
  var loadGraphData=function(callback){
    $.get('/flow-map/graph').done(function(data){
      callback(data);
    }).error(function(){
      
    }).always(function(){
      console.log("Ajax finished");
    });
  }
</script>
{% endblock %}
